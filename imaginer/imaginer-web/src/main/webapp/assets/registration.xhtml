<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

	<p:panel id="registration">
		<h:form id="registration-form">

			<p:commandLink value="#{msg['imaginer.registration.create-account']}">
				<p:ajax listener="#{userRegistrationManagedBean.prepareUserRegistration}" partialSubmit="true" update="@form"
					oncomplete="$('#registration-form\\:registration-table').show()" />
			</p:commandLink>

			<p:panelGrid id="registration-table" rendered="#{userRegistrationManagedBean.registrationFormVisible}"
				style="display:none">
				<p:row>
					<p:column>
						<h:outputLabel for="registration-username" value="#{msg['imaginer.registration.username']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-username" value="#{userRegistrationManagedBean.userToRegister.username}">
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-password" value="#{msg['imaginer.registration.password']}" />
					</p:column>
					<p:column>
						<p:password id="registration-password" value="#{userRegistrationManagedBean.password}" feedback="true"
							promptLabel="#{msg['imaginer.registration.enter-password']}" weakLabel="#{msg['imaginer.password.weak']}"
							goodLabel="#{msg['imaginer.password.avarage']}" strongLabel="#{msg['imaginer.password.strong']}">
							<p:ajax />
						</p:password>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-password-confirm" value="#{msg['imaginer.registration.password-confirm']}" />
					</p:column>
					<p:column>
						<p:password id="registration-password-confirm" value="#{userRegistrationManagedBean.confirmPassword}"
							feedback="true" promptLabel="#{msg['imaginer.registration.enter-password']}"
							weakLabel="#{msg['imaginer.password.weak']}" goodLabel="#{msg['imaginer.password.avarage']}"
							strongLabel="#{msg['imaginer.password.strong']}">
							<p:ajax />
						</p:password>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-email-address" value="#{msg['imaginer.registration.email-address']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-email-address" value="#{userRegistrationManagedBean.userToRegister.emailAddress}">
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-last-name" value="#{msg['imaginer.registration.last-name']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-last-name" value="#{userRegistrationManagedBean.userToRegister.lastName}">
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-first-name" value="#{msg['imaginer.registration.first-name']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-first-name" value="#{userRegistrationManagedBean.userToRegister.firstName}">
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-birth-date" value="#{msg['imaginer.registration.birth-date']}" />
					</p:column>
					<p:column>
						<p:calendar id="registration-birth-date" value="#{userRegistrationManagedBean.userToRegister.birthDate}" />
					</p:column>
				</p:row>
			</p:panelGrid>
			<p:commandLink styleClass="button login-button" value="#{msg['imaginer.registration.register']}"
				action="#{userRegistrationManagedBean.registerUser}" />
		</h:form>
	</p:panel>

</ui:composition>