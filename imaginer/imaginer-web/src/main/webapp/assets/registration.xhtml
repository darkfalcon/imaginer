<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">


	<h:form id="registration-form">

		<p:commandLink value="#{msg['imaginer.registration.create-account']}">
			<p:ajax listener="#{userRegistrationManagedBean.prepareUserRegistration}" partialSubmit="true" update="@form" />
		</p:commandLink>

		<p:panel id="registration-panel" rendered="#{userRegistrationManagedBean.registrationFormVisible}">
			<p:panelGrid id="registration-table">
				<p:row>
					<p:column>
						<h:outputLabel for="registration-username" value="#{msg['imaginer.common.username']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-username" value="#{userRegistrationManagedBean.userToRegister.username}">
							<f:validator binding="#{inputValidator}" />
							<f:attribute name="type" value="USERNAME" />
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-password" value="#{msg['imaginer.common.password']}" />
					</p:column>
					<p:column>
						<p:password id="registration-password" value="#{userRegistrationManagedBean.userToRegister.password}"
							feedback="true" promptLabel="#{msg['imaginer.registration.enter-password']}"
							weakLabel="#{msg['imaginer.password.weak']}" goodLabel="#{msg['imaginer.password.avarage']}"
							strongLabel="#{msg['imaginer.password.strong']}" match="registration-password-confirm" required="true">
							<f:validator binding="#{inputValidator}" />
							<f:attribute name="type" value="PASSWORD" />
							<p:ajax />
						</p:password>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-password-confirm" value="#{msg['imaginer.registration.password-confirm']}" />
					</p:column>
					<p:column>
						<p:password id="registration-password-confirm" value="#{userRegistrationManagedBean.userToRegister.password}"
							feedback="true" promptLabel="#{msg['imaginer.registration.enter-password']}"
							weakLabel="#{msg['imaginer.password.weak']}" goodLabel="#{msg['imaginer.password.avarage']}"
							strongLabel="#{msg['imaginer.password.strong']}" required="true">
							<p:ajax />
						</p:password>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-email-address" value="#{msg['imaginer.common.email-address']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-email-address" value="#{userRegistrationManagedBean.userToRegister.emailAddress}">
							<f:validator binding="#{inputValidator}" />
							<f:attribute name="type" value="EMAIL" />
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-last-name" value="#{msg['imaginer.common.last-name']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-last-name" value="#{userRegistrationManagedBean.userToRegister.lastName}">
							<f:validator binding="#{inputValidator}" />
							<f:attribute name="type" value="LASTNAME" />
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-first-name" value="#{msg['imaginer.common.first-name']}" />
					</p:column>
					<p:column>
						<p:inputText id="registration-first-name" value="#{userRegistrationManagedBean.userToRegister.firstName}">
							<f:validator binding="#{inputValidator}" />
							<f:attribute name="type" value="FIRSTNAME" />
							<p:ajax />
						</p:inputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="registration-birth-date" value="#{msg['imaginer.common.birth-date']}" />
					</p:column>
					<p:column>
						<p:calendar id="registration-birth-date" value="#{userRegistrationManagedBean.userToRegister.birthDate}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:commandButton styleClass="button login-button" value="#{msg['imaginer.registration.register']}"
							action="#{userRegistrationManagedBean.registerUser}" />
						<p:commandButton value="#{msg['imaginer.common.button.cancel']}">
							<p:ajax listener="#{userRegistrationManagedBean.hideRegistrationForm}" partialSubmit="true"
								update="@form" />
						</p:commandButton>
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
	</h:form>


</ui:composition>